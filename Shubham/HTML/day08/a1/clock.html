<!DOCTYPE html utf-8>
<html>
  <head>
    <title>Timer</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="clock.css">
   </head>
  <body>
    <p>Time is: <output id="count"></output></p>
    <button onclick="startWorker()">Start Timer</button>
    <button onclick="stopCounter()">Stop Timer</button>
    <script>
      var w;
      
      function startWorker(){
        /* check worker is supported or not in your browser*/
        if(typeof(Worker !== "undefined"))
        {
          /* check existance of  an worker*/
          if(typeof(w)=="undefined")
          {
            /* create object of worker with loading file*/
            //timedCount();
            w = new Worker("demo_workers.js");
          } 
          /* print message is occusrs from clockWorker.js*/
          w.onmessage = function(event){
            /*set value of returned data to output tag*/
            document.getElementById("count").innerHTML = event.data;
          };
        }
        else{
      
          document.getElementById("count").innerHTML = "Web Worker not supported in Your browser";
        }
      }
      function stopCounter(){
        if(typeof(w) !== "undefined")
          {
            /* terminate the webWorker*/
            w.terminate();
            /* set WebWorker to Undifined*/
            w = undefined;
            /* reset value of counter*/
             document.getElementById("count").innerHTML= "0";
          }
      }
      var i =0;
      function timedCount() {
      i = i + 1;
      postMessage(i);
      setTimeout("timedCount()",500);
    }
    </script>
  </body>
</html>